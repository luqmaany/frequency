rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ============================================================================
    // SESSION DOCUMENTS - Allow all access for now (no auth required)
    // ============================================================================
    
    match /sessions/{sessionId} {
      // Allow read/write access to anyone (needed for multiplayer without auth)
      allow read, write: if true;
    }
    
    // ============================================================================
    // SURVEY DATA - Allow all access for now
    // ============================================================================
    
    match /insight_surveys/{surveyId} {
      allow read, write: if true;
    }
    
    // ============================================================================
    // CATEGORIES (if you plan to use Firestore for categories)
    // ============================================================================
    
    match /categories/{categoryId} {
      allow read: if true;
      allow write: if false; // No writes allowed for now
    }
    
    // ============================================================================
    // DENY ALL OTHER DOCUMENTS
    // ============================================================================
    
    // Explicitly deny access to any other documents
    match /{document=**} {
      allow read, write: if false;
    }
  }
}